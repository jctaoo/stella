---
import CommonHeader, { type Props as CommonHeaderProps } from "@/components/common-header.astro";
import SidebarNav from "@/components/sidebar-nav";
import "@/styles/global.css";

type Props = {
  header: CommonHeaderProps;
};
const { header } = Astro.props;

// Determine if we're on the home page
const isHomePage = Astro.url.pathname === "/";

// get current route
const currentRoute = Astro.url.pathname;
---

<html lang="en">
  <head>
    <CommonHeader title={header.title} description={header.description} />
  </head>
  <body class="overflow-hidden">
    <div class="flex h-screen">
      <SidebarNav
        isHome={isHomePage}
        currentRoute={currentRoute}
        client:load
        transition:name="slide"
        transition:persist
        transition:animate="none"
      />
      <main class="flex-1 overflow-y-auto md:ml-0" transition:name="main" transition:animate="none">
        <slot />
      </main>
    </div>
  </body>
</html>
